<% content_for :title, "#{@product.name} â€” Product Label" %>

<div class="min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4">
  <div class="bg-white rounded-2xl shadow-lg border border-gray-100 w-full max-w-md p-8 text-center">

    <div class="mb-6">
      <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-100 text-amber-800 text-xs font-semibold mb-4">
        Admin Product Label
      </span>
      <h1 class="text-xl font-bold text-gray-900 leading-tight"><%= @product.name %></h1>
      <% if @product.brand.present? %>
        <p class="text-sm text-gray-500 mt-1"><%= @product.brand %></p>
      <% end %>
    </div>

    <div class="grid grid-cols-2 gap-3 text-left mb-6">
      <div class="bg-gray-50 rounded-lg p-3">
        <p class="text-xs text-gray-400 uppercase font-medium mb-0.5">SKU</p>
        <p class="text-sm font-mono font-bold text-gray-800"><%= @product.sku %></p>
      </div>
      <div class="bg-gray-50 rounded-lg p-3">
        <p class="text-xs text-gray-400 uppercase font-medium mb-0.5">Stock</p>
        <p class="text-sm font-bold <%= @product.in_stock? ? 'text-green-600' : 'text-red-500' %>">
          <%= @product.stock_quantity %> units
        </p>
      </div>
      <div class="bg-gray-50 rounded-lg p-3">
        <p class="text-xs text-gray-400 uppercase font-medium mb-0.5">Base Cost</p>
        <p class="text-sm font-bold text-gray-800"><%= number_to_currency(@product.base_cost) %></p>
      </div>
      <div class="bg-gray-50 rounded-lg p-3">
        <p class="text-xs text-gray-400 uppercase font-medium mb-0.5">Sell Price</p>
        <p class="text-sm font-bold text-amber-700"><%= number_to_currency(@product.selling_price) %></p>
      </div>
      <div class="bg-gray-50 rounded-lg p-3 col-span-2">
        <p class="text-xs text-gray-400 uppercase font-medium mb-0.5">Category</p>
        <p class="text-sm font-medium text-gray-800"><%= @product.category.name %></p>
      </div>
    </div>

    <%# QR Code SVG %>
    <div class="flex justify-center mb-4">
      <div class="border border-gray-200 rounded-lg p-3 bg-white inline-block">
        <%== RQRCode::QRCode.new(request.base_url + request.path).as_svg(
          viewbox: true,
          use_path: true,
          svg_attributes: {
            width:  "160",
            height: "160",
            class:  "block"
          }
        ) %>
      </div>
    </div>

    <p class="text-xs text-gray-400 mb-6">Scan to view this product label</p>

    <div class="flex gap-3 justify-center flex-wrap">
      <%= link_to "View in Admin", admin_product_path(@product),
          class: "text-sm text-amber-700 hover:underline font-medium" %>
      <button onclick="window.print()"
              class="text-sm bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-900">
        Print Label
      </button>
    </div>
  </div>
</div>
