<% content_for :title, "New Product" %>

<div class="flex items-center gap-4 mb-6">
  <%= link_to "â† Products", admin_products_path, class: "text-sm text-gray-500 hover:text-gray-700" %>
  <h1 class="text-2xl font-bold text-gray-900">New Product</h1>
</div>

<!-- Screenshot Import Card -->
<div class="mb-6" data-controller="product-import">
  <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
    <h2 class="text-sm font-semibold text-amber-900 mb-1">Import from Vendor Screenshot</h2>
    <p class="text-xs text-amber-700 mb-4">Upload a screenshot of an Ashley Furniture or Generation Trade product page to auto-fill the form below.</p>
    <div class="flex items-center gap-3 flex-wrap">
      <input type="file" accept="image/*" data-product-import-target="file"
             class="text-sm text-gray-600 file:mr-3 file:py-1.5 file:px-3 file:rounded file:border-0 file:text-sm file:font-medium file:bg-amber-100 file:text-amber-800 hover:file:bg-amber-200 cursor-pointer" />
      <button type="button"
              data-action="click->product-import#analyze"
              data-product-import-target="button"
              class="inline-flex items-center px-4 py-1.5 bg-amber-800 text-white text-sm font-medium rounded hover:bg-amber-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
        Analyze Screenshot
      </button>
      <span data-product-import-target="status" class="text-sm text-gray-500"></span>
    </div>
  </div>
</div>

<%= render "admin/products/form", product: @product %>
